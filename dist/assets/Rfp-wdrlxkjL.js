import{c as k,r as t,u as A,b as E,g as F,j as a}from"./index-Cy1U88sa.js";import{F as I,R as M,r as T}from"./Modal-BGjb3hrj.js";import{a as l,D as P}from"./DetailsModal-a1dpeQOi.js";import{h as r}from"./moment-Cl4UOzQZ.js";import{l as n}from"./lodash-7L2L8PGe.js";import{R as V}from"./Row--G6XAMP6.js";import"./selectors-B3ZcmyZz.js";import"./formik.esm-Ck2ofJqQ.js";import"./DatePick-VY6TPrCu.js";const v=s=>s.rfp,z=k([v],s=>s.rfp),X=()=>{const[s,i]=t.useState(!1),[B,f]=t.useState(""),[d,m]=t.useState([]),[p,u]=t.useState([]),[_,R]=t.useState([]),[h,S]=t.useState([]),[x,g]=t.useState([]),o=A(),y=E(z),c=n.debounce(()=>{o(F())},300),D=n.debounce(()=>{o(l())},300);t.useEffect(()=>(o(l(q)),c(),()=>{c.cancel()}),[]);const q=e=>{e&&toast.error(e==null?void 0:e.error,{position:"bottom-right"})},b="RFP",j=()=>i(!1),C=e=>{f(e),i(!0),m([{user_ref:e.user_ref.user_id,client_ref:e.client_ref.client_id,site_ref:e.sites_ref.site_id,type_ref:e.type_ref.type_id}]),u([{"RFP ID":e.farming_ident}]),R([{Client:e.client_ref.client_name,Site:e.sites_ref.site_name,Type:e.type_ref.type_name}]),S([{Requestor:e.requestor===null?"N/A":e.requestor,"Requested Date":r(e.requested_date).isValid()?r(e.requested_date).format("l"):e.requested_date||"N/A","Target Date":r(e.target_date).isValid()?r(e.target_date).format("l"):e.target_date||"N/A"}]),g([{Remarks:e.remarks,"Email Trail":e.email_trail}])},N=()=>{D()};return a.jsxs("div",{className:"rfp",children:[a.jsx(V,{className:"mb-4"}),a.jsx(I,{columns:M,data:y,filterItems:T,handleRowClick:C}),a.jsx(P,{show:s,close:j,modalName:b,reference:d,identity:p,data:_,data1:h,textArea:x,refetchRfpData:N})]})};export{X as default};
