import{c as C,r as t,u as E,b as N,g as A,a as I,j as s}from"./index-Cy1U88sa.js";import{F as M,T as F,t as V}from"./Modal-BGjb3hrj.js";import{g as o,D as v}from"./DetailsModal-a1dpeQOi.js";import{h as r}from"./moment-Cl4UOzQZ.js";import{l}from"./lodash-7L2L8PGe.js";import{R as B}from"./Row--G6XAMP6.js";import"./selectors-B3ZcmyZz.js";import"./formik.esm-Ck2ofJqQ.js";import"./DatePick-VY6TPrCu.js";const O=a=>a.tracker,z=C([O],a=>a.tracker),Y=()=>{const[a,i]=t.useState(!1),[G,d]=t.useState(""),[m,f]=t.useState([]),[u,_]=t.useState([]),[p,k]=t.useState([]),[S,T]=t.useState([]),[g,h]=t.useState([]),c=E(),x=N(z),n=l.debounce(()=>{c(A())},300),y=l.debounce(()=>{c(o())},300);t.useEffect(()=>(c(o(R)),n(),()=>{n.cancel()}),[]);const R=e=>{e&&I.error(e==null?void 0:e.error,{position:"bottom-right"})},D="Tracker",b=()=>i(!1),j=e=>{d(e),i(!0),f([{user_ref:e.user_ref.user_id,client_ref:e.client_ref.client_id,site_ref:e.sites_ref.site_id,type_ref:e.type_ref.type_id}]),_([{"Tracking ID":e.farming_ident}]),k([{Status:e.status,Client:e.client_ref.client_name,Site:e.sites_ref.site_name,"Seating Requirement":e.seat_req,Type:e.type_ref.type_name}]),T([{Owner:e.user_ref.last_name,"Requested Date":r(e.requested_date).isValid()?r(e.requested_date).format("l"):e.requested_date||"N/A","Target Date":r(e.target_date).isValid()?r(e.target_date).format("l"):e.target_date||"N/A"}]),h([{Remarks:e.remarks,Solution:e.solution,"Email Trail":e.email_trail}])},q=()=>{y()};return s.jsxs("div",{className:"tracker",children:[s.jsx(B,{className:"mb-4"}),s.jsx(M,{columns:F,data:x,filterItems:V,handleRowClick:j}),s.jsx(v,{show:a,close:b,modalName:D,reference:m,identity:u,data:p,data1:S,textArea:g,refetchTrackerData:q})]})};export{Y as default};
